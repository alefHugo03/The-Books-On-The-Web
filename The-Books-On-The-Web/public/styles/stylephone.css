/* ==========================================================================
   ARQUIVO: public/styles/stylephone.css
   OBJETIVO: Centralizar toda a responsividade do sistema (Mobile First)
   ATUALIZADO: Com correção de Tabelas e Cards
   ========================================================================== */

/* --- REGRAS GERAIS PARA TABLETS E CELULARES (< 900px) --- */
@media (max-width: 900px) {
    
    /* 1. CORREÇÃO DE ESTRUTURA */
    body, html {
        overflow-x: hidden;
        width: 100%;
    }

    /* 2. HEADER: Empilha os elementos verticalmente */
    .header-cima {
        flex-direction: column !important;
        padding: 15px !important;
        gap: 15px !important;
        text-align: center;
    }

    .empresa, .pesquisa, .area-cadastro {
        width: 100% !important;
        justify-content: center !important;
        max-width: none !important;
    }

    .pesquisar {
        width: 100%;
        display: flex;
    }
    
    .input-pesquisa { width: 100%; }

    .botoes-rodape {
        flex-direction: column;
    }

    /* 3. CARDS DE LIVROS (Home e Pesquisa) */
    /* Desativa o Grid de 400px e usa Flex Coluna */
    .lista-livros {
        display: flex !important;
        flex-direction: column !important;
        gap: 20px !important;
        padding: 10px !important;
        width: 100% !important;
        box-sizing: border-box !important;
        grid-template-columns: none !important; /* Anula o grid do cards.css */
    }

    .livro-card {
        width: 100% !important;
        min-width: 0 !important;
        height: auto !important;
        min-height: 160px !important;
        margin: 0 !important;
    }

    .capa-wrapper {
        width: 120px !important;
        min-width: 120px !important;
    }

    .info-livro h3 { font-size: 1rem !important; }
    
    .container-vitrine {
        width: 100% !important;
        padding: 10px !important;
        box-sizing: border-box;
    }

    /* 4. CORREÇÃO DAS TABELAS (Admin) - Rolagem Horizontal */
    .table-responsive {
        display: block;
        width: 100%;
        overflow-x: auto; /* Permite rolar para o lado */
        -webkit-overflow-scrolling: touch;
        margin-bottom: 20px;
        border: 1px solid #eee;
        border-radius: 8px;
        background: white;
    }

    .admin-table {
        width: 100%;
        min-width: 800px; /* Força largura mínima para não espremer dados */
        border-collapse: separate; 
        border-spacing: 0;
    }

    .admin-table th, 
    .admin-table td {
        white-space: nowrap; /* Impede que textos curtos quebrem */
        padding: 12px 15px;
        text-align: left;
        vertical-align: middle;
    }

    /* Ajuste específico da coluna Título (pode quebrar linha) */
    .admin-table td:nth-child(1) {
        white-space: normal;
        min-width: 200px;
        max-width: 300px;
        font-weight: 600;
    }

    /* Ajuste dos Badges de Categoria */
    .categoria-badge {
        white-space: nowrap;
        display: inline-block;
        margin: 2px;
    }

    /* Ajuste da Coluna de Ações */
    .admin-table td:last-child {
        white-space: nowrap;
        text-align: center;
        min-width: 140px;
    }
    
    /* Zebrado para facilitar leitura no celular */
    .admin-table tbody tr:nth-child(even) {
        background-color: #f9f9f9;
    }
}

/* --- REGRAS ESPECÍFICAS DO PAINEL ADMIN E DETALHES (< 768px) --- */
@media (max-width: 768px) {
    
    /* Painel Admin: Filtros */
    .tabela-controles {
        flex-direction: column;
        align-items: stretch;
    }

    .controles-direita {
        justify-content: space-between;
        margin-top: 10px;
        width: 100%;
    }

    .input-busca-admin {
        max-width: 100%;
        width: 100%;
    }

    /* Página de Detalhes do Livro */
    .container-detalhes {
        flex-direction: column;
        align-items: center;
        padding: 20px;
    }

    .detalhes-capa {
        width: 100%;
        max-width: 100%;
        margin-bottom: 20px;
        align-items: center;
        display: flex;
        flex-direction: column;
    }
    
    .detalhes-capa canvas {
        max-width: 200px; /* Limita tamanho da capa */
    }

    .detalhes-info h1 {
        text-align: center;
        font-size: 1.8rem;
    }

    .grupo-botoes {
        width: 100%;
        flex-direction: column;
    }

    .btn-acao {
        width: 100%;
    }
}

/* --- PÁGINA SOBRE / RESUMO (Vindo do spans.css) (< 820px) --- */
@media (max-width: 820px) {
    .secao-conteudo, .secao-conteudo.reverso {
        flex-direction: column !important;
        text-align: center;
        gap: 20px;
    }
    
    .img-wrapper, .texto-wrapper {
        width: 100%;
    }
    
    .card-github-compacto {
        flex-direction: column;
        text-align: center;
        padding: 20px;
        height: auto;
        width: 100%;
    }
    
    .btn-git-acessar {
        margin-left: 0;
        margin-top: 10px;
        width: 100%;
        text-align: center;
    }
    
    .texto-wrapper h2, .info-git h3, .info-git p {
        text-align: center;
    }
}

/* --- TELAS MUITO PEQUENAS (< 400px) --- */
@media (max-width: 400px) {
    /* Transforma o card em vertical para não espremer o texto */
    .livro-card {
        flex-direction: column !important;
    }

    .capa-wrapper {
        width: 100% !important;
        height: 200px !important;
        border-right: none !important;
        border-bottom: 1px solid #eee !important;
    }

    .pdf-thumb {
        max-height: 180px;
    }
}